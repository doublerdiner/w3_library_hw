{%extends "base.html"%}

{%block content%}
<section class="index">
    <h2>Main Page</h2>
    <section>
        <h3>Books in the Library</h3>
        <div>
        <table>
            <tr>
                <th>Title </th>
                <th>Author </th>
                <th>Genre </th>
                <th>Available? </th>
                <th>Check In / Out Book</th>
                <th>Due Date</th>
                <th>Delete Book From Inventory</th>
                <th>View This Book</th>
            </tr>
            {%for book in book_list%}
            <tr>
                <td>{{book.title}}</td>
                <td>{{book.author}}</td>
                <td>{{book.genre}}</td>
                <td>{%if book.checked_out%}&#10060;{%else%}&#9989;{%endif%}</td>
                <td>
                    <form action="/library/{{loop.index0}}" method="POST">
                        <label for="in">Check In:</label>    
                        <input type="radio" id="in" name="status" value="CheckIn"><br>
                        <label for="out">Check Out: </label>
                        <input type="radio" id="out" name="status" value="CheckOut"><br>
                        <input type="submit">
                    </form>
                </td>
                <td>{%if book.due_date == None%}N/A{%else%}{{book.due_date}}{%endif%}</td>
                <td>
                    <form action="/library/{{loop.index0}}/delete" method="POST">
                        <input type="Submit" value="Delete">
                    </form>
                </td>
                <td>
                    <form action="/library/{{loop.index0}}">
                        <input type="Submit" value="View This Book">
                    </form>
                </td>
            </tr>
            {%endfor%} 
        </table>     
        </div>
    </section>
    <section>
        <h3>Add a New Book to the Library</h3>
        <div>
           <form action="/library/add" method="post">
                <label for="title"> Title: </label>
                <input id="title" name="title" type="text">
                <label for="author">Author: </label>
                <input id="author" name="author" type="text">
                <label for="genre">Genre: </label>
                <input id="genre" name="genre" type="text">
                <input type="submit">
            </form>
        </div>
    </section>





</section>
{%endblock%}